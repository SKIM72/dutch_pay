<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="appTitle">Settle Up | 로그인</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6366f1">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" href="icon.png" type="image/png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=16">
</head>
<body>
    <div class="auth-page-wrapper">
        <div class="auth-lang-selector">
            <i class="fas fa-globe"></i>
            <select id="language-switcher" style="padding: 0.25rem; font-size: 0.85rem; border: none; background: transparent; cursor: pointer;">
                <option value="ko">한국어</option>
                <option value="en">English</option>
                <option value="ja">日本語</option>
            </select>
        </div>

        <div class="auth-card">
            <div class="auth-logo">
                <img src="icon.png" alt="Settle Up Icon">
                <h1>Settle Up</h1>
            </div>

            <div id="login-view">
                <h2 style="margin-bottom: 1.5rem; text-align: center; font-size: 1.2rem;"><i class="fas fa-sign-in-alt"></i> <span data-i18n="login">로그인</span></h2>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <input type="email" id="login-email" data-i18n-placeholder="email">
                    <input type="password" id="login-password" data-i18n-placeholder="password">
                    <button id="submit-login-btn" style="width: 100%; margin-top: 0.5rem;" data-i18n="login"></button>
                </div>
                <div style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem;">
                    <a href="#" id="go-to-forgot-password" style="color: var(--text-muted); text-decoration: underline;" data-i18n="forgotPassword">비밀번호를 잊으셨나요?</a>
                    <p style="margin-top: 1rem; color: var(--text-main);">
                        <span data-i18n="noAccount">계정이 없으신가요?</span> 
                        <a href="#" id="go-to-signup" style="color: var(--primary); font-weight: 600;" data-i18n="signup">회원가입</a>
                    </p>
                </div>
            </div>

            <div id="signup-view" class="hidden">
                <h2 style="margin-bottom: 1.5rem; text-align: center; font-size: 1.2rem;"><i class="fas fa-user-plus"></i> <span data-i18n="signup">회원가입</span></h2>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <input type="email" id="signup-email" data-i18n-placeholder="email">
                    <input type="password" id="signup-password" data-i18n-placeholder="password">
                    <input type="password" id="signup-password-confirm" data-i18n-placeholder="confirmPassword">
                    <button id="submit-signup-btn" style="width: 100%; margin-top: 0.5rem; background-color: var(--secondary);" data-i18n="signup"></button>
                </div>
                <div style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem;">
                    <p style="color: var(--text-main);">
                        <span data-i18n="alreadyHaveAccount">이미 계정이 있으신가요?</span> 
                        <a href="#" id="go-to-login-from-signup" style="color: var(--primary); font-weight: 600;" data-i18n="login">로그인</a>
                    </p>
                </div>
            </div>

            <div id="forgot-password-view" class="hidden">
                <h2 style="margin-bottom: 1.5rem; text-align: center; font-size: 1.2rem;"><i class="fas fa-key"></i> <span data-i18n="resetPassword">비밀번호 재설정</span></h2>
                <p style="text-align: center; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 1rem;">가입하신 이메일을 입력하시면 비밀번호 재설정 링크를 보내드립니다.</p>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <input type="email" id="reset-email" data-i18n-placeholder="email">
                    <button id="submit-reset-btn" style="width: 100%; margin-top: 0.5rem;" data-i18n="sendResetLink"></button>
                </div>
                <div style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem;">
                    <a href="#" id="go-to-login-from-reset" style="color: var(--primary); font-weight: 600;" data-i18n="login">로그인으로 돌아가기</a>
                </div>
            </div>
            
            <div id="update-password-view" class="hidden">
                <h2 style="margin-bottom: 1.5rem; text-align: center; font-size: 1.2rem;"><i class="fas fa-lock"></i> <span data-i18n="resetPassword">새 비밀번호 설정</span></h2>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <input type="password" id="new-password" data-i18n-placeholder="password">
                    <button id="submit-update-password-btn" style="width: 100%; margin-top: 0.5rem; background-color: var(--secondary);" data-i18n="updatePassword"></button>
                </div>
            </div>

        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="locales.js"></script>
    <script src="auth.js?v=16"></script>
</body>
</html>